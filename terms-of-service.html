<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms of Service - Supanator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .policy-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .policy-content h1 {
            font-size: 2.5em;
            margin-bottom: 0.5em;
            color: #333;
        }
        .policy-content h2 {
            font-size: 1.8em;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            color: #444;
        }
        .policy-content h3 {
            font-size: 1.3em;
            margin-top: 1em;
            margin-bottom: 0.5em;
            color: #555;
        }
        .policy-content p {
            margin-bottom: 1em;
        }
        .policy-content ul {
            margin-bottom: 1em;
            padding-left: 2em;
        }
        .policy-content li {
            margin-bottom: 0.5em;
        }
        .policy-content em {
            font-style: italic;
        }
        .loading {
            text-align: center;
            padding: 50px;
            color: #666;
        }
        .error {
            text-align: center;
            padding: 50px;
            color: #d32f2f;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">Supanator</a>
            <div class="nav-links">
                <a href="index.html#features">Features</a>
                <a href="index.html#download">Download</a>
                <a href="privacy-policy.html">Privacy</a>
                <a href="terms-of-service.html">Terms</a>
            </div>
        </div>
    </nav>

    <main>
        <div class="policy-content" id="content">
            <div class="loading">Loading terms of service...</div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Supanator</h3>
                <p>The unofficial Supabase client for iOS</p>
            </div>
            <div class="footer-section">
                <h3>Legal</h3>
                <a href="privacy-policy.html">Privacy Policy</a>
                <a href="terms-of-service.html">Terms of Service</a>
            </div>
            <div class="footer-section">
                <h3>Connect</h3>
                <a href="mailto:support@supanator.app">support@supanator.app</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Supanator. All rights reserved.</p>
            <p class="disclaimer">Supanator is an independent app and is not affiliated with Supabase Inc.</p>
        </div>
    </footer>

    <script>
        async function loadTermsOfService() {
            const contentDiv = document.getElementById('content');
            
            try {
                const response = await fetch('Terms.txt');
                if (!response.ok) {
                    throw new Error('Failed to load terms of service');
                }
                
                const text = await response.text();
                const html = parseMarkdown(text);
                contentDiv.innerHTML = html;
            } catch (error) {
                contentDiv.innerHTML = '<div class="error">Error loading terms of service. Please try again later.</div>';
                console.error('Error:', error);
            }
        }

        function parseMarkdown(text) {
            // Split into lines
            const lines = text.split('\n');
            let html = '';
            let inList = false;
            
            for (let line of lines) {
                // Trim whitespace
                line = line.trim();
                
                // Skip empty lines unless we're in a list
                if (!line && !inList) {
                    continue;
                }
                
                // End list if we hit an empty line
                if (!line && inList) {
                    html += '</ul>';
                    inList = false;
                    continue;
                }
                
                // Headers
                if (line.startsWith('### ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += `<h3>${parseBoldText(line.substring(4))}</h3>`;
                } else if (line.startsWith('## ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += `<h2>${parseBoldText(line.substring(3))}</h2>`;
                } else if (line.startsWith('# ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += `<h1>${parseBoldText(line.substring(2))}</h1>`;
                } 
                // List items
                else if (line.startsWith('- ')) {
                    if (!inList) {
                        html += '<ul>';
                        inList = true;
                    }
                    html += `<li>${parseBoldText(line.substring(2))}</li>`;
                } 
                // Regular paragraphs
                else {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    html += `<p>${parseBoldText(line)}</p>`;
                }
            }
            
            // Close any open list
            if (inList) {
                html += '</ul>';
            }
            
            return html;
        }

        function parseBoldText(text) {
            // Replace **text** with <em>text</em> for italic
            return text.replace(/\*\*(.*?)\*\*/g, '<em>$1</em>');
        }

        // Load the terms of service when the page loads
        loadTermsOfService();
    </script>
</body>
</html> 